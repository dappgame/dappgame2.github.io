(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{130:function(e){e.exports=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"buildings","outputs":[{"internalType":"uint256","name":"tools","type":"uint256"},{"internalType":"uint256","name":"emerald","type":"uint256"},{"internalType":"uint256","name":"emerald2","type":"uint256"},{"internalType":"uint256","name":"yield","type":"uint256"},{"internalType":"uint256","name":"timestamp","type":"uint256"},{"internalType":"uint256","name":"hrs","type":"uint256"},{"internalType":"address","name":"ref","type":"address"},{"internalType":"uint256","name":"refs","type":"uint256"},{"internalType":"uint256","name":"refEmerald","type":"uint256"},{"internalType":"uint256","name":"refTools","type":"uint256"},{"internalType":"uint8","name":"market","type":"uint8"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"manager","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"totalInvested","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"totalTrainers","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[],"name":"totalWorkers","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function","constant":true},{"inputs":[{"internalType":"address","name":"ref","type":"address"}],"name":"addPokecash","outputs":[],"stateMutability":"payable","type":"function","payable":true},{"inputs":[{"internalType":"uint256","name":"emerald","type":"uint256"}],"name":"compound","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"emerald","type":"uint256"}],"name":"withdrawPokecoins","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"collectPokecoins","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"buildingId","type":"uint256"}],"name":"upgradeBuilding","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"upgradeHome","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"sellBuildings","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"getWorkers","outputs":[{"internalType":"uint8[7]","name":"","type":"uint8[7]"}],"stateMutability":"view","type":"function","constant":true}]')},276:function(e){e.exports=JSON.parse('[{"inputs":[{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall3.Call[]","name":"calls","type":"tuple[]"}],"name":"aggregate","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"},{"internalType":"bytes[]","name":"returnData","type":"bytes[]"}],"stateMutability":"payable","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bool","name":"allowFailure","type":"bool"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall3.Call3[]","name":"calls","type":"tuple[]"}],"name":"aggregate3","outputs":[{"components":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"internalType":"struct Multicall3.Result[]","name":"returnData","type":"tuple[]"}],"stateMutability":"payable","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bool","name":"allowFailure","type":"bool"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall3.Call3Value[]","name":"calls","type":"tuple[]"}],"name":"aggregate3Value","outputs":[{"components":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"internalType":"struct Multicall3.Result[]","name":"returnData","type":"tuple[]"}],"stateMutability":"payable","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall3.Call[]","name":"calls","type":"tuple[]"}],"name":"blockAndAggregate","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"},{"internalType":"bytes32","name":"blockHash","type":"bytes32"},{"components":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"internalType":"struct Multicall3.Result[]","name":"returnData","type":"tuple[]"}],"stateMutability":"payable","type":"function"},{"inputs":[],"name":"getBasefee","outputs":[{"internalType":"uint256","name":"basefee","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"}],"name":"getBlockHash","outputs":[{"internalType":"bytes32","name":"blockHash","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getBlockNumber","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getChainId","outputs":[{"internalType":"uint256","name":"chainid","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockCoinbase","outputs":[{"internalType":"address","name":"coinbase","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockDifficulty","outputs":[{"internalType":"uint256","name":"difficulty","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockGasLimit","outputs":[{"internalType":"uint256","name":"gaslimit","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getCurrentBlockTimestamp","outputs":[{"internalType":"uint256","name":"timestamp","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"addr","type":"address"}],"name":"getEthBalance","outputs":[{"internalType":"uint256","name":"balance","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getLastBlockHash","outputs":[{"internalType":"bytes32","name":"blockHash","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"requireSuccess","type":"bool"},{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall3.Call[]","name":"calls","type":"tuple[]"}],"name":"tryAggregate","outputs":[{"components":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"internalType":"struct Multicall3.Result[]","name":"returnData","type":"tuple[]"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"bool","name":"requireSuccess","type":"bool"},{"components":[{"internalType":"address","name":"target","type":"address"},{"internalType":"bytes","name":"callData","type":"bytes"}],"internalType":"struct Multicall3.Call[]","name":"calls","type":"tuple[]"}],"name":"tryBlockAndAggregate","outputs":[{"internalType":"uint256","name":"blockNumber","type":"uint256"},{"internalType":"bytes32","name":"blockHash","type":"bytes32"},{"components":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"internalType":"struct Multicall3.Result[]","name":"returnData","type":"tuple[]"}],"stateMutability":"payable","type":"function"}]')},287:function(e,t){},329:function(e,t){},331:function(e,t){},353:function(e,t){},355:function(e,t){},367:function(e,t){},368:function(e,t){},392:function(e,t){},402:function(e,t){},404:function(e,t){},506:function(e,t){},507:function(e,t){},508:function(e,t,n){},509:function(e,t,n){"use strict";n.r(t);var a,r,c=n(3),s=n.n(c),i=n(261),l=n.n(i),u=n(11),o=s.a.createContext({showMessage:null,showLoading:null,hideLoading:null,showBuyTools:null,showReferral:null,showFinances:null,showSellValley:null,showUpgradeMarket:null,showUpgradeBuilding:null}),p=n(15),b=n(2),d=function(e){var t=Object.assign({},e);return Object(b.jsxs)("div",Object(p.a)(Object(p.a)({},t),{},{className:"lds-ring",children:[Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{}),Object(b.jsx)("div",{})]}))},A=n(27),m=["children","enabled"],j=function(e){var t=e.children,n=e.enabled,a=Object(A.a)(e,m);return Object(b.jsx)("div",Object(p.a)(Object(p.a)({},a),{},{className:"alert",style:{display:"".concat(n?"block":"none")},children:t}))},f=["children","enabled"],O=function(e){var t=e.children,n=e.enabled,a=Object(A.a)(e,f);return Object(b.jsx)("div",Object(p.a)(Object(p.a)({},a),{},{className:"toast",style:{display:"".concat(n?"block":"none")},children:t}))},g=n(0),v=n(8),h=["active","setActive","title","children","modalName"],k=function(e){var t=e.active,n=e.setActive,a=e.title,r=e.children;e.modalName,Object(A.a)(e,h);return Object(b.jsx)("div",{className:t?"modal active":"modal",onClick:function(){return n(!1)},children:Object(b.jsxs)("div",{className:t?"modal__content active":"modal__content",onClick:function(e){return e.stopPropagation()},children:[Object(b.jsxs)("div",{className:"modal__header",children:[Object(b.jsx)("span",{children:a}),Object(b.jsx)("div",{className:"modal__close",onClick:function(){return n(!1)}})]}),Object(b.jsx)("div",{className:"modal__body",children:r})]})})},x="static/media/hammer.png",y=s.a.createContext({web3Modal:null,web3Account:null,chainId:"",connected:!1,address:"",login:null,logout:null,totalInvested:0,totalWorkers:0,totalTrainers:0,accountBuildings:{},balanceOf:0,currentBlockTimeStamp:0}),w=n(6),S=n(7),N=n(130),B=n(21),M=56,U=97,q=(a={},Object(B.a)(a,M,{chainId:"0x38",chainName:"Smart Chain",rpcUrls:["https://bsc-dataseed.binance.org/"],nativeCurrency:{name:"BINANCE COIN",symbol:"BNB",decimals:18},blockExplorerUrls:["https://bscscan.com/"]}),Object(B.a)(a,U,{chainId:"0x61",chainName:"BSC TESTNET",rpcUrls:["https://bsc-testnet.public.blastapi.io"],nativeCurrency:{name:"BINANCE COIN",symbol:"BNB",decimals:18},blockExplorerUrls:["https://testnet.bscscan.com/"]}),a),T=function(){var e=Object(v.a)(Object(g.a)().mark((function e(t,n){var a,r;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=window.ethereum)||!a.request){e.next=26;break}return r=q[t],e.prev=3,e.next=6,a.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x".concat(Number.parseInt(t).toString(16))}]});case 6:return e.abrupt("return",!0);case 9:if(e.prev=9,e.t0=e.catch(3),4902!==(null===e.t0||void 0===e.t0?void 0:e.t0.code)){e.next=23;break}return e.prev=12,e.next=15,a.request({method:"wallet_addEthereumChain",params:[r]});case 15:return console.log("+"),e.abrupt("return",!0);case 19:return e.prev=19,e.t1=e.catch(12),console.error("Failed to setup the network in Metamask ",e.t1),e.abrupt("return",!1);case 23:return e.abrupt("return",!1);case 24:e.next=27;break;case 26:throw"Network error: please change network";case 27:case"end":return e.stop()}}),e,null,[[3,9],[12,19]])})));return function(t,n){return e.apply(this,arguments)}}(),V=n.p+"static/media/farmer.c271beac.png",C="0x459096971048aE269dFD1DB8DE2e9AFd19cFEF5C",E="0xca11bde05977b3631167028862be2a173976ca11",I=M,K=q[I].rpcUrls[0],Z=4e-4,D={0:{price:0,time:24},1:{price:1250,time:28},2:{price:1250,time:32},3:{price:1250,time:36}},J={0:{name:"PokéMart",employers:"",worker:"static/media/fishman.png",0:{price:0,revenue:0},1:{price:175,revenue:20},2:{price:200,revenue:23},3:{price:238,revenue:28},4:{price:300,revenue:35},5:{price:338,revenue:40}},1:{name:"PokéCenter",employers:"",worker:"static/media/woodcutter.png",0:{price:0,revenue:0},1:{price:525,revenue:63},2:{price:600,revenue:74},3:{price:713,revenue:88},4:{price:900,revenue:113},5:{price:1013,revenue:129}},2:{name:"PokéGym",employers:"",worker:V,0:{price:0,revenue:0},1:{price:1575,revenue:203},2:{price:1800,revenue:236},3:{price:2138,revenue:283},4:{price:2700,revenue:362},5:{price:3038,revenue:413}},3:{name:"PokéNews",employers:"",worker:"static/media/miner.png",0:{price:0,revenue:0},1:{price:3150,revenue:433},2:{price:3600,revenue:501},3:{price:4275,revenue:602},4:{price:5400,revenue:770},5:{price:6075,revenue:878}},4:{name:"PokéDaycare",employers:"",worker:"static/media/butcher.png",0:{price:0,revenue:0},1:{price:6300,revenue:924},2:{price:7200,revenue:1071},3:{price:8550,revenue:1290},4:{price:10800,revenue:1652},5:{price:12150,revenue:1883}},5:{name:"Professor Oak",employers:"",worker:"static/media/blacksmith.png",0:{price:0,revenue:0},1:{price:12600,revenue:1979},2:{price:14400,revenue:2292},3:{price:17100,revenue:2757},4:{price:21600,revenue:3528},5:{price:24300,revenue:4020}},6:{name:"PokéLeague",employers:"",worker:"static/media/tavern.png",0:{price:0,revenue:0},1:{price:18900,revenue:3166},2:{price:21600,revenue:3663},3:{price:25650,revenue:4403},4:{price:32400,revenue:5630},5:{price:36450,revenue:6424}}},P=function(){function e(t,n){Object(w.a)(this,e),this.web3=t,this.account=n,this.instanse=new t.eth.Contract(N,C)}return Object(S.a)(e,[{key:"addPokecash",value:function(){var e=Object(v.a)(Object(g.a)().mark((function e(t,n,a,r,c,s){var i,l;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPrice();case 2:return i=e.sent,e.next=5,this.estimateAddTools(t,n);case 5:return l=e.sent,e.abrupt("return",this.instanse.methods.addPokecash(t).send({from:this.account,value:this.web3.utils.toWei("".concat(n),"ether"),gasPrice:i,gas:l}).on("transactionHash",(function(){r()})).on("error",(function(e){a(e.message?e.message:"Failure")})).on("receipt",(function(e){e.status?s():c("Failure")})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r,c,s){return e.apply(this,arguments)}}()},{key:"withdrawPokecoins",value:function(){var e=Object(v.a)(Object(g.a)().mark((function e(t,n,a,r,c){var s,i;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPrice();case 2:return s=e.sent,e.next=5,this.estimateWithdrawEmerald(t);case 5:return i=e.sent,e.abrupt("return",this.instanse.methods.withdrawPokecoins(t).send({from:this.account,gasPrice:s,gas:i}).on("transactionHash",(function(){a()})).on("error",(function(e){n(e.message?e.message:"Failure")})).on("receipt",(function(e){e.status?c():r("Failure")})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}()},{key:"compound",value:function(){var e=Object(v.a)(Object(g.a)().mark((function e(t,n,a,r,c){var s,i;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPrice();case 2:return s=e.sent,e.next=5,this.estimateCompound(t);case 5:return i=e.sent,e.abrupt("return",this.instanse.methods.compound(t).send({from:this.account,gasPrice:s,gas:i}).on("transactionHash",(function(){a()})).on("error",(function(e){n(e.message?e.message:"Failure")})).on("receipt",(function(e){e.status?c():r("Failure")})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}()},{key:"upgradeHome",value:function(){var e=Object(v.a)(Object(g.a)().mark((function e(t,n,a,r){var c,s;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPrice();case 2:return c=e.sent,e.next=5,this.estimateUpgradeMarket();case 5:return s=e.sent,e.abrupt("return",this.instanse.methods.upgradeHome().send({from:this.account,gasPrice:c,gas:s}).on("transactionHash",(function(){n()})).on("error",(function(e){t(e.message?e.message:"Failure")})).on("receipt",(function(e){e.status?r():a("Failure")})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"upgradeBuilding",value:function(){var e=Object(v.a)(Object(g.a)().mark((function e(t,n,a,r,c){var s,i;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPrice();case 2:return s=e.sent,e.next=5,this.estimateUpgradeBuilding(t);case 5:return i=e.sent,e.abrupt("return",this.instanse.methods.upgradeBuilding(t).send({from:this.account,gasPrice:s,gas:i}).on("transactionHash",(function(){a()})).on("error",(function(e){n(e.message?e.message:"Failure")})).on("receipt",(function(e){e.status?c():r("Failure")})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r,c){return e.apply(this,arguments)}}()},{key:"sellBuildings",value:function(){var e=Object(v.a)(Object(g.a)().mark((function e(t,n,a,r){var c,s;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPrice();case 2:return c=e.sent,e.next=5,this.estimateSellBuildings();case 5:return s=e.sent,e.abrupt("return",this.instanse.methods.sellBuildings().send({from:this.account,gasPrice:c,gas:s}).on("transactionHash",(function(){n()})).on("error",(function(e){t(e.message?e.message:"Failure")})).on("receipt",(function(e){e.status?r():a("Failure")})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"collectPokecoins",value:function(){var e=Object(v.a)(Object(g.a)().mark((function e(t,n,a,r){var c,s;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getPrice();case 2:return c=e.sent,e.next=5,this.estimateCollectEmerald();case 5:return s=e.sent,e.abrupt("return",this.instanse.methods.collectPokecoins().send({from:this.account,gasPrice:c,gas:s}).on("transactionHash",(function(){n()})).on("error",(function(e){t(e.message?e.message:"Failure")})).on("receipt",(function(e){e.status?r():a("Failure")})));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"getPrice",value:function(){var e=Object(v.a)(Object(g.a)().mark((function e(){return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.web3.eth.getGasPrice();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"estimateAddTools",value:function(){var e=Object(v.a)(Object(g.a)().mark((function e(t,n){var a;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.instanse.methods.addPokecash(t).estimateGas({value:this.web3.utils.toWei("".concat(n),"ether")});case 2:return a=e.sent,e.abrupt("return",Math.round(1.5*a));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"estimateWithdrawEmerald",value:function(){var e=Object(v.a)(Object(g.a)().mark((function e(t){var n;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.instanse.methods.withdrawPokecoins(t).estimateGas({from:this.account});case 2:return n=e.sent,e.abrupt("return",Math.round(1.2*n));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"estimateCompound",value:function(){var e=Object(v.a)(Object(g.a)().mark((function e(t){var n;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.instanse.methods.compound(t).estimateGas({from:this.account});case 2:return n=e.sent,e.abrupt("return",Math.round(1.2*n));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"estimateUpgradeMarket",value:function(){var e=Object(v.a)(Object(g.a)().mark((function e(){var t;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.instanse.methods.upgradeHome().estimateGas({from:this.account});case 2:return t=e.sent,e.abrupt("return",Math.round(1.2*t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"estimateUpgradeBuilding",value:function(){var e=Object(v.a)(Object(g.a)().mark((function e(t){var n;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.instanse.methods.upgradeBuilding(t).estimateGas({from:this.account});case 2:return n=e.sent,e.abrupt("return",Math.round(1.2*n));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"estimateSellBuildings",value:function(){var e=Object(v.a)(Object(g.a)().mark((function e(){var t;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.instanse.methods.sellBuildings().estimateGas({from:this.account});case 2:return t=e.sent,e.abrupt("return",Math.round(1.2*t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"estimateCollectEmerald",value:function(){var e=Object(v.a)(Object(g.a)().mark((function e(){var t;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.instanse.methods.collectPokecoins().estimateGas({from:this.account});case 2:return t=e.sent,e.abrupt("return",Math.round(1.2*t));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),F=0,G=1,Q=2,R=3,Y=4,z=5,H=6,L=function(e,t,n){var a=Object(c.useMemo)((function(){return n?new P(e,t):null}),[e,t,n]),r=Object(c.useCallback)(Object(v.a)(Object(g.a)().mark((function e(){return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.getPrice();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),[e,t,n]),s=function(){var e=Object(v.a)(Object(g.a)().mark((function e(t,n,r,c,s,i){return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===F?3:e.t0===G?5:e.t0===Q?7:e.t0===R?9:e.t0===Y?11:e.t0===z?13:e.t0===H?15:17;break;case 3:return a.addPokecash(n.ref,n.value,r,c,s,i),e.abrupt("return");case 5:return a.withdrawPokecoins(n.amount,r,c,s,i),e.abrupt("return");case 7:return a.compound(n.value,r,c,s,i),e.abrupt("return");case 9:return a.upgradeHome(r,c,s,i),e.abrupt("return");case 11:return a.upgradeBuilding(n.buildingId,r,c,s,i),e.abrupt("return");case 13:return a.sellBuildings(r,c,s,i),e.abrupt("return");case 15:return a.collectPokecoins(r,c,s,i),e.abrupt("return");case 17:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,s){return e.apply(this,arguments)}}();return{esimateGas:function(e,t){switch(e){case F:return a.estimateAddTools(t.ref,t.value);case G:return a.estimateWithdrawEmerald(t.amount);case Q:return a.estimateCompound(t.value);case R:return a.estimateUpgradeMarket();case Y:return a.estimateUpgradeBuilding(t.buildingId);case z:return a.estimateSellBuildings();case H:return a.estimateCollectEmerald()}},callMethod:s,gasPrice:r}},X=n(515),W=function(){var e=Object(X.a)(["partner"]),t=Object(u.a)(e,2),n=t[0],a=t[1];return{cookies:n,setupCookies:Object(c.useCallback)((function(e){var t=new Date;t.setTime(t.getTime()+2592e6),a("partner",e,{path:"/",expires:t})}))}},_=["children","enable","callback"],$=function(e){var t=e.children,n=e.enable,a=e.callback,r=Object(A.a)(e,_);return Object(b.jsx)("button",Object(p.a)(Object(p.a)({},r),{},{className:"button button-big",disabled:!n,onClick:a,children:t}))},ee=n(35),te=n.n(ee),ne=["active","setActive"],ae=function(e){var t=e.active,n=e.setActive,a=Object(A.a)(e,ne),r=Object(c.useState)(!0),s=Object(u.a)(r,2),i=s[0],l=s[1],d=Object(c.useContext)(y),m=d.web3Account,j=d.balanceOf,f=d.address,O=d.connected,h=Object(c.useContext)(o),w=h.showMessage,S=h.showLoading,N=h.hideLoading,B=W().cookies,M=L(m,f,O),U=M.esimateGas,q=M.callMethod,T=M.gasPrice,V=Object(c.useState)(0),C=Object(u.a)(V,2),E=C[0],I=C[1],K=Object(c.useState)(0),D=Object(u.a)(K,2),J=D[0],P=D[1],G=Object(c.useState)(!1),Q=Object(u.a)(G,2),R=Q[0],Y=Q[1],z=Object(c.useState)(!1),H=Object(u.a)(z,2),X=H[0],_=H[1];Object(c.useEffect)((function(){l(!0)}),[t]),Object(c.useEffect)((function(){var e=Math.floor(E/Z);P(e)}),[X]),Object(c.useEffect)((function(){var e=parseFloat(J*Z).toFixed(4);I(e>0?parseFloat(e).toFixed(4):0)}),[R]);var ee=function(e,t){""==e.target.value&&(e.target.value=0,t(0))},ae=function(){var e=Object(v.a)(Object(g.a)().mark((function e(){var t,a,r,c,s,u,o;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(E<Z)&&i){e.next=3;break}return w("MIN DEPOSIT ".concat(Z," BNB")),e.abrupt("return");case 3:return l(!1),t=B.partner&&B.partner!=f?B.partner:"0x0000000000000000000000000000000000000000",e.prev=5,e.next=8,re(t);case 8:if(a=e.sent,r=a.price,c=a.esimated,s=new te.a(r),u=new te.a(c),o=m.utils.fromWei(s.multipliedBy(u).toFixed(),"ether"),!(j-o<=E)){e.next=18;break}return w("Not enough BNB"),l(!0),e.abrupt("return");case 18:q(F,{ref:t,value:E},(function(e){N(),w("".concat(e)),l(!0)}),(function(){S(),n(!1),l(!0)}),(function(e){N(),w("".concat(e)),l(!0)}),(function(){N(),w("Success"),l(!0)})),e.next=26;break;case 21:e.prev=21,e.t0=e.catch(5),console.log(e.t0),w(e.t0.message?e.t0.message:"Failure"),l(!0);case 26:case"end":return e.stop()}}),e,null,[[5,21]])})));return function(){return e.apply(this,arguments)}}(),re=function(){var e=Object(v.a)(Object(g.a)().mark((function e(t){var n,a;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return n=e.sent,e.next=5,U(F,{ref:t,value:Z});case 5:return a=e.sent,e.abrupt("return",{price:n,esimated:a});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsx)(k,Object(p.a)(Object(p.a)({},a),{},{active:t,setActive:n,title:"Buy PokéCash",children:Object(b.jsxs)("div",{className:"buy",children:[Object(b.jsxs)("form",{className:"buy__converter",children:[Object(b.jsxs)("div",{className:"buy__bnb buy__item",children:[Object(b.jsxs)("label",{htmlFor:"bnb",children:[Object(b.jsx)("span",{children:"BNB"}),Object(b.jsxs)("span",{className:"buy__balance",children:["Balance: ",parseFloat(j).toFixed(4)]})]}),Object(b.jsx)("input",{type:"text",name:"bnb",id:"bnb",value:E,onChange:function(e){return function(e){var t=RegExp("^\\d*(?:\\\\[.])?\\d*$"),n=e.target.value.replace(/,/g,".");(""===n||t.test(n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")))&&(I(n),_(!X))}(e)},onBlur:function(e){return ee(e,I)}})]}),Object(b.jsx)("div",{className:"buy__image",children:Object(b.jsx)("img",{src:"static/media/buyimage.png"})}),Object(b.jsxs)("div",{className:"buy__crystal buy__item",children:[Object(b.jsx)("label",{htmlFor:"crystal",children:Object(b.jsx)("span",{children:"PokéCash"})}),Object(b.jsx)("input",{type:"text",name:"crystal",id:"crystal",value:J,onChange:function(e){return function(e){var t=e.target.value.replace(/[^0-9]/g,"");e.target.value=t,P(t),Y(!R)}(e)},onBlur:function(e){return ee(e,P)}})]})]}),Object(b.jsx)("div",{className:"buy__converted",children:Object(b.jsxs)("p",{children:[" 1 ",Object(b.jsx)("span",{children:Object(b.jsx)("img",{src:x})})," = ",Z," BNB"]})}),Object(b.jsx)($,{enable:i,callback:function(){ae()},children:"Buy"})]})}))},re=["children","enable","callback"],ce=function(e){var t=e.children,n=e.enable,a=e.callback,r=Object(A.a)(e,re);return Object(b.jsx)("button",Object(p.a)(Object(p.a)({},r),{},{className:"button button-small",disabled:!n,onClick:a,children:t}))},se="static/media/gem.png",ie=["active","setActive"],le=function(e){var t=e.active,n=e.setActive,a=Object(A.a)(e,ie),r=Object(c.useContext)(y),s=r.connected,i=r.accountBuildings,l=r.address,u=Object(c.useContext)(o).showMessage,d=Object(c.useMemo)((function(){return"".concat("https://poketowns.online/","?p=").concat(l)}),[l]);return Object(b.jsx)(k,Object(p.a)(Object(p.a)({},a),{},{active:t,setActive:n,title:"Trainers",children:Object(b.jsxs)("div",{className:"partner",children:[Object(b.jsx)("div",{className:"partner__main-title",children:Object(b.jsx)("h2",{className:"partner__title",children:"Trainers system"})}),Object(b.jsxs)("div",{className:"partner__info",children:[Object(b.jsx)("input",{type:"text",readOnly:!0,className:"partner__link",value:d}),Object(b.jsx)(ce,{enable:!0,callback:function(){u("Copied"),navigator.clipboard.writeText(d)},children:Object(b.jsxs)("div",{className:"inline",children:[Object(b.jsx)("img",{src:"static/media/chain.png",alt:""}),"Copy"]})})]}),Object(b.jsx)("h2",{className:"partner__title",children:"Trainer stats"}),Object(b.jsxs)("div",{className:"partner__benefits",children:[Object(b.jsxs)("div",{className:"partner__benefits-wrapper",children:[Object(b.jsx)("div",{className:"partner__benefit",children:Object(b.jsx)("img",{src:"static/media/people.png"})}),s?i.refs?i.refs:0:"-"]}),Object(b.jsxs)("div",{className:"partner__benefits-wrapper",children:[Object(b.jsx)("div",{className:"partner__benefit",children:Object(b.jsx)("img",{src:x})}),s?i.refTools?i.refTools:0:"-"]}),Object(b.jsxs)("div",{className:"partner__benefits-wrapper",children:[Object(b.jsx)("div",{className:"partner__benefit",children:Object(b.jsx)("img",{src:se})}),s?i.refEmerald?i.refEmerald:0:"-"]})]})]})}))},ue=n.p+"static/media/bnb-exchange.21af1be9.png",oe=n.p+"static/media/tools-exchange.a6834518.png",pe=n.p+"static/media/emeraldExchange.6cb9e435.png",be="static/media/exchange.png",de=n.p+"static/media/profit.79b9dec3.png",Ae=["active","setActive"],me=function(e){var t=e.active,n=e.setActive,a=Object(A.a)(e,Ae),r=Object(c.useState)(!0),s=Object(u.a)(r,2),i=s[0],l=s[1],d=Object(c.useState)(0),m=Object(u.a)(d,2),j=m[0],f=m[1],O=Object(c.useState)(0),h=Object(u.a)(O,2),w=h[0],S=h[1],N=Object(c.useContext)(y),B=N.web3Account,M=N.balanceOf,U=N.address,q=N.connected,T=N.accountBuildings,V=Object(c.useContext)(o),C=V.showMessage,E=V.showLoading,I=V.hideLoading,K=V.showSellValley,Z=L(B,U,q),D=Z.esimateGas,J=Z.callMethod,P=Z.gasPrice;Object(c.useEffect)((function(){l(!0)}),[t]);var F=Object(c.useMemo)((function(){return Math.floor(.0125*j)}),[j]),R=Object(c.useMemo)((function(){return parseFloat(4e-6*w).toFixed(6)}),[w]);Object(c.useEffect)((function(){var e;f(null!==(e=T.emerald)&&void 0!==e?e:0)}),[q,T.emerald]);var Y=function(e,t){var n=e.target.value.replace(/[^0-9]/g,"");e.target.value=n,t(n)},z=function(e,t){""==e.target.value&&(e.target.value=0,t(0))},H=function(){var e=Object(v.a)(Object(g.a)().mark((function e(){var t,a,r,c,s,i;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(parseInt(j)<=0)){e.next=3;break}return C("Amount must be greater than 0"),e.abrupt("return");case 3:if(!(parseInt(j)>parseInt(T.emerald))){e.next=6;break}return C("Not enough PokéCoins"),e.abrupt("return");case 6:return l(!1),e.prev=7,e.next=10,W();case 10:if(t=e.sent,a=t.price,r=t.esimated,c=new te.a(a),s=new te.a(r),i=B.utils.fromWei(c.multipliedBy(s).toFixed(),"ether"),!(M<i)){e.next=20;break}return C("Not enough BNB"),l(!0),e.abrupt("return");case 20:J(Q,{value:j},(function(e){I(),C("".concat(e)),l(!0)}),(function(){n(!1),l(!0),E()}),(function(e){I(),C("".concat(e)),l(!0)}),(function(){I(),C("Success"),l(!0)})),e.next=28;break;case 23:e.prev=23,e.t0=e.catch(7),console.log(e.t0),C(e.t0.message?e.t0.message:"Failure"),l(!0);case 28:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(){return e.apply(this,arguments)}}(),X=function(){var e=Object(v.a)(Object(g.a)().mark((function e(){var t,a,r,c,s,i;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(parseInt(w)<=0)){e.next=3;break}return C("Amount must be greater than 0"),e.abrupt("return");case 3:if(!(parseInt(w)>parseInt(T.emerald))){e.next=6;break}return C("Not enough PokéCoins"),e.abrupt("return");case 6:return l(!1),e.prev=7,e.next=10,_();case 10:if(t=e.sent,a=t.price,r=t.esimated,c=new te.a(a),s=new te.a(r),i=B.utils.fromWei(c.multipliedBy(s).toFixed(),"ether"),!(M<i)){e.next=20;break}return C("Not enough BNB"),l(!0),e.abrupt("return");case 20:J(G,{amount:w},(function(e){I(),C("".concat(e)),l(!0)}),(function(){n(!1),l(!0),E()}),(function(e){I(),C("".concat(e)),l(!0)}),(function(){I(),C("Success"),l(!0)})),e.next=28;break;case 23:e.prev=23,e.t0=e.catch(7),console.log(e.t0),C(e.t0.message?e.t0.message:"Failure"),l(!0);case 28:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(v.a)(Object(g.a)().mark((function e(){var t,n;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return t=e.sent,e.next=5,D(Q,{value:j});case 5:return n=e.sent,e.abrupt("return",{price:t,esimated:n});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(v.a)(Object(g.a)().mark((function e(){var t,n;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return t=e.sent,e.next=5,D(G,{amount:w});case 5:return n=e.sent,e.abrupt("return",{price:t,esimated:n});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)(k,Object(p.a)(Object(p.a)({},a),{},{active:t,setActive:n,title:"PokéBank",children:Object(b.jsxs)("div",{className:"PokéBank",children:[Object(b.jsxs)("div",{className:"finances__values",children:[Object(b.jsxs)("div",{className:"finances__value",children:[Object(b.jsx)("span",{style:{color:"white"},children:q?T.tools?T.tools:0:"---"}),Object(b.jsx)("img",{src:x,alt:""})]}),Object(b.jsxs)("div",{className:"finances__value",children:[Object(b.jsxs)("span",{style:{color:"white"},children:["        ",q?T.emerald?T.emerald:0:"---"]}),Object(b.jsx)("img",{src:se,alt:""})]})]}),Object(b.jsxs)("div",{className:"finances__exchange finances__exchange-compound",children:[Object(b.jsx)("div",{className:"finances__profit",children:Object(b.jsx)("img",{src:de,alt:""})}),Object(b.jsxs)("div",{className:"finances__half finances__half-hidded",children:[Object(b.jsxs)("div",{className:"finances__item",children:[Object(b.jsx)("img",{src:pe,alt:""}),Object(b.jsx)("span",{style:{color:"white"},children:"1000"})]}),Object(b.jsx)("img",{className:"finances__icon",src:be,alt:""}),Object(b.jsxs)("div",{className:"finances__item",children:[Object(b.jsx)("img",{src:oe,alt:""}),Object(b.jsx)("span",{style:{color:"white"},children:"12.5"}),Object(b.jsx)("span",{style:{color:"white"},children:"(0.005BNB)"})]})]}),Object(b.jsxs)("div",{className:"finances__half finances__half-input",children:[Object(b.jsxs)("div",{className:"finances__input",children:[Object(b.jsx)("input",{type:"text",onBlur:function(e){z(e,f)},onChange:function(e){Y(e,f)},value:j}),Object(b.jsx)("button",{onClick:function(){f(T.emerald)},className:"finances__max",children:"MAX"})]}),Object(b.jsxs)("div",{className:"finances__receive",children:[Object(b.jsx)("span",{style:{color:"white"},children:"You get:"}),Object(b.jsxs)("span",{style:{color:"white"},children:[F,"PokéCash"]})]}),Object(b.jsx)($,{enable:i,callback:H,children:"Compound"})]})]}),Object(b.jsxs)("div",{className:"finances__exchange finances__exchange-withdraw",children:[Object(b.jsx)("div",{className:"finances__profit",children:Object(b.jsx)("img",{src:"",alt:""})}),Object(b.jsxs)("div",{className:"finances__half finances__half-hidded",children:[Object(b.jsxs)("div",{className:"finances__item",children:[Object(b.jsx)("img",{src:pe,alt:""}),Object(b.jsx)("span",{style:{color:"white"},children:"1000"})]}),Object(b.jsx)("img",{className:"finances__icon",src:be,alt:""}),Object(b.jsxs)("div",{className:"finances__item",children:[Object(b.jsx)("img",{src:ue,alt:""}),Object(b.jsx)("span",{style:{color:"white"},children:"0.004"})]})]}),Object(b.jsxs)("div",{className:"finances__half finances__half-input",children:[Object(b.jsx)("div",{className:"finances__input",children:Object(b.jsx)("input",{onBlur:function(e){z(e,S)},onChange:function(e){Y(e,S)},value:w,type:"text"})}),Object(b.jsxs)("div",{className:"finances__receive",children:[Object(b.jsx)("span",{style:{color:"white"},children:"You get:"}),Object(b.jsxs)("span",{style:{color:"white"},children:[R," BNB"]})]}),Object(b.jsx)($,{enable:i,callback:X,children:"Withdraw"})]})]}),Object(b.jsx)("div",{className:"finances__sell",children:Object(b.jsx)($,{callback:function(){n(!1),K()},children:"Note: Earn 25% More PokéCash when you compound your Earnings!"})})]})}))},je=["active","setActive"],fe=function(e){var t=e.active,n=e.setActive,a=Object(A.a)(e,je),r=Object(c.useState)(!0),s=Object(u.a)(r,2),i=s[0],l=s[1],d=Object(c.useState)(!0),m=Object(u.a)(d,2),j=m[0],f=m[1],O=Object(c.useContext)(y),h=O.web3Account,x=O.balanceOf,w=O.address,S=O.connected,N=O.accountBuildings,B=Object(c.useContext)(o),M=B.showMessage,U=B.showLoading,q=B.hideLoading,T=L(h,w,S),V=T.esimateGas,C=T.callMethod,E=T.gasPrice;Object(c.useEffect)((function(){l(!0)}),[t]),Object(c.useEffect)((function(){var e=N.yield?N.yield:0;f(24*e*7)}),[S,N.yield]);var I=function(){var e=Object(v.a)(Object(g.a)().mark((function e(){var t,n;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:return t=e.sent,e.next=5,V(z,{});case 5:return n=e.sent,e.abrupt("return",{price:t,esimated:n});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(v.a)(Object(g.a)().mark((function e(){var t,a,r,c,s,i;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(S){e.next=2;break}return e.abrupt("return");case 2:if(0!=N.yield){e.next=5;break}return M("Not a single building built"),e.abrupt("return");case 5:return l(!1),e.prev=6,e.next=9,I();case 9:if(t=e.sent,a=t.price,r=t.esimated,c=new te.a(a),s=new te.a(r),i=h.utils.fromWei(c.multipliedBy(s).toFixed(),"ether"),!(x<i)){e.next=19;break}return M("Not enough BNB for transaction complete."),l(!0),e.abrupt("return");case 19:C(z,{},(function(e){q(),M("".concat(e)),l(!0)}),(function(){U(),n(!1),l(!0)}),(function(e){q(),M("".concat(e)),l(!0)}),(function(){q(),M("Success"),l(!0)})),e.next=27;break;case 22:e.prev=22,e.t0=e.catch(6),console.log(e.t0),M(e.t0.message?e.t0.message:"Failure"),l(!0);case 27:case"end":return e.stop()}}),e,null,[[6,22]])})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)(k,Object(p.a)(Object(p.a)({},a),{},{active:t,setActive:n,title:"Sell Valley",children:Object(b.jsxs)("div",{className:"sell-valley",children:[Object(b.jsxs)("h2",{className:"sell-valley__question",children:["Are you sure you want",Object(b.jsx)("br",{}),"to Sell your valley?"]}),Object(b.jsxs)("div",{className:"sell-valley__rate",children:["You will get ",j," ",Object(b.jsx)("span",{children:Object(b.jsx)("img",{src:se,alt:""})}),"  but all your workers will be fired"]}),Object(b.jsxs)("div",{className:"sell-valley__btns",children:[Object(b.jsx)($,{enable:i,callback:function(){K()},children:"Yes"}),Object(b.jsx)($,{enable:i,callback:function(){n(!1)},children:"No"})]})]})}))},Oe=["active","setActive"],ge=function(e){var t=e.active,n=e.setActive,a=Object(A.a)(e,Oe),r=Object(c.useState)(!0),s=Object(u.a)(r,2),i=s[0],l=s[1],d=Object(c.useContext)(y),m=d.web3Account,j=d.balanceOf,f=d.address,O=d.connected,h=d.accountBuildings,w=Object(c.useContext)(o),S=w.showMessage,N=w.showLoading,B=w.hideLoading,M=L(m,f,O),U=M.esimateGas,q=M.callMethod,T=M.gasPrice,V=Object(c.useState)(0),C=Object(u.a)(V,2),E=C[0],I=C[1],K=Object(c.useState)(0),Z=Object(u.a)(K,2),J=Z[0],P=Z[1],F=Object(c.useState)(0),G=Object(u.a)(F,2),Q=G[0],Y=G[1];Object(c.useEffect)((function(){if(O&&!(h.market>=3)){var e=h.market?h.market:0,t=D[e],n=D[e+1];I(t.time),P(n.time-t.time),Y(n.price)}}),[O,h]),Object(c.useEffect)((function(){l(!0)}),[t]);var z=function(){var e=Object(v.a)(Object(g.a)().mark((function e(){var t,n;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return t=e.sent,e.next=5,U(R);case 5:return n=e.sent,e.abrupt("return",{price:t,esimated:n});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(v.a)(Object(g.a)().mark((function e(){var t,a,r,c,s,i,u;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l(!1),t=D[h.market+1],!(h.tools<t.price)){e.next=6;break}return S("Not enough PokéCash"),l(!0),e.abrupt("return");case 6:return e.prev=6,e.next=9,z();case 9:if(a=e.sent,r=a.price,c=a.esimated,s=new te.a(r),i=new te.a(c),u=m.utils.fromWei(s.multipliedBy(i).toFixed(),"ether"),!(j<u)){e.next=19;break}return S("Not enough BNB for transaction complete."),l(!0),e.abrupt("return");case 19:q(R,{},(function(e){B(),S("".concat(e)),l(!0)}),(function(){N(),n(!1),l(!0)}),(function(e){B(),S("".concat(e)),l(!0)}),(function(){B(),S("Success"),l(!0)})),e.next=27;break;case 22:e.prev=22,e.t0=e.catch(6),console.log(e.t0),S(e.t0.message?e.t0.message:"Failure"),l(!0);case 27:case"end":return e.stop()}}),e,null,[[6,22]])})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)(k,Object(p.a)(Object(p.a)({},a),{},{active:t,setActive:n,title:"Upgrade Home",children:Object(b.jsxs)("div",{className:"upgrade-market",children:[Object(b.jsx)("h3",{className:"upgrade-market__title",children:"Upgrade your Home to increase its capacity"}),Object(b.jsxs)("div",{className:"upgrade-market__info",children:[Object(b.jsx)("div",{className:"upgrade-market__img",children:Object(b.jsx)("img",{src:"static/media/timer.png"})}),Object(b.jsxs)("div",{className:"upgrade-market__rate",children:[Object(b.jsx)("p",{children:"Time until Home fills"}),Object(b.jsxs)("span",{className:"upgrade-market__rate-current",children:[E,"h "]}),h.market<3?Object(b.jsxs)("span",{className:"upgrade-market__rate-added",children:["(+",J,"h)"]}):null]})]}),Object(b.jsx)("div",{className:"update-market__btn",children:Object(b.jsx)($,{enable:i&&h.market<3,callback:function(){H()},children:Object(b.jsxs)("div",{className:"inline",children:[Object(b.jsx)("img",{src:x}),Q]})})})]})}))},ve=["buildingId","active","setActive"],he=function(e){var t=e.buildingId,n=e.active,a=e.setActive,r=Object(A.a)(e,ve),s=Object(c.useState)(!0),i=Object(u.a)(s,2),l=i[0],d=i[1],m=Object(c.useState)(0),j=Object(u.a)(m,2),f=j[0],O=j[1],h=Object(c.useState)(0),w=Object(u.a)(h,2),S=w[0],N=w[1],B=Object(c.useState)(0),M=Object(u.a)(B,2),U=M[0],q=M[1],T=Object(c.useState)(0),V=Object(u.a)(T,2),C=V[0],E=V[1],I=Object(c.useState)(0),K=Object(u.a)(I,2),Z=K[0],D=K[1],P=Object(c.useState)(0),F=Object(u.a)(P,2),G=F[0],Q=F[1],R=Object(c.useState)(0),z=Object(u.a)(R,2),H=z[0],X=z[1],W=Object(c.useState)(0),_=Object(u.a)(W,2),te=_[0],ne=_[1],ae=Object(c.useContext)(y),re=ae.web3Account,ce=ae.balanceOf,se=ae.address,ie=ae.connected,le=ae.accountBuildings,ue=Object(c.useContext)(o),oe=ue.showMessage,pe=ue.showLoading,be=ue.hideLoading,de=L(re,se,ie),Ae=de.esimateGas,me=de.callMethod,je=de.gasPrice;Object(c.useEffect)((function(){if(ie&&le.workers&&void 0!=t&&!(le.workers[t]>=5)){var e=le.workers?le.workers[t]:0,n=(J[t][e],J[t][e+1]);if(void 0!=n){for(var a=0,r=0;r<=e;r++)a+=J[t][r].revenue;ne(le.workers[t]),O(e),N(e+1-e),q(a),E(n.revenue),D(le.yield),Q(n.revenue),X(n.price)}}}),[ie,le.workers,t]),Object(c.useEffect)((function(){d(!0)}),[n]);var fe=function(){var e=Object(v.a)(Object(g.a)().mark((function e(){var n,a;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je();case 2:return n=e.sent,e.next=5,Ae(Y,{buildingId:t});case 5:return a=e.sent,e.abrupt("return",{price:n,esimated:a});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(v.a)(Object(g.a)().mark((function e(){var n,r,c,s,i,l,u,o;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ie&&le.workers&&void 0!=t){e.next=2;break}return e.abrupt("return");case 2:if(d(!1),n=le.workers?le.workers[t]:0,r=J[t][n+1],!(parseFloat(le.tools)<parseFloat(r.price))){e.next=9;break}return oe("Not enough PokéCash"),d(!0),e.abrupt("return");case 9:return e.prev=9,e.next=12,fe();case 12:if(c=e.sent,s=c.price,i=c.esimated,l=new ee.BigNumber(s),u=new ee.BigNumber(i),o=re.utils.fromWei(l.multipliedBy(u).toFixed(),"ether"),!(parseFloat(ce)<parseFloat(o))){e.next=22;break}return oe("Not enough BNB for transaction complete."),d(!0),e.abrupt("return");case 22:me(Y,{buildingId:t},(function(e){be(),oe("".concat(e)),d(!0)}),(function(){pe(),a(!1),d(!0)}),(function(e){be(),oe("".concat(e)),d(!0)}),(function(){be(),oe("Success"),d(!0)})),e.next=30;break;case 25:e.prev=25,e.t0=e.catch(9),console.log(e.t0),oe(e.t0.message?e.t0.message:"Failure"),d(!0);case 30:case"end":return e.stop()}}),e,null,[[9,25]])})));return function(){return e.apply(this,arguments)}}();return Object(b.jsx)(k,Object(p.a)(Object(p.a)({},r),{},{active:n,setActive:a,title:"Upgrade ".concat(J[t].name),children:Object(b.jsxs)("div",{className:"upgrade-building",children:[Object(b.jsxs)("div",{className:"upgrade-building__title",children:["Level ",te]}),Object(b.jsxs)("div",{className:"upgrade-building__info",children:[Object(b.jsxs)("div",{className:"upgrade-building__item",children:[Object(b.jsx)("div",{className:"upgrade-building__icon",children:Object(b.jsx)("img",{src:J[t].worker})}),Object(b.jsxs)("div",{className:"upgrade-building__data",children:[Object(b.jsx)("p",{children:"Workers"}),Object(b.jsxs)("span",{className:"upgrade-building__current",children:[f," "]}),le.workers&&le.workers[t]<5?Object(b.jsxs)("span",{className:"upgrade-building__added",children:["(+",S,")"]}):null]})]}),Object(b.jsxs)("div",{className:"upgrade-building__item",children:[Object(b.jsx)("div",{className:"upgrade-building__icon",children:Object(b.jsx)("img",{src:"static/media/gemupgrade.png",alt:""})}),Object(b.jsxs)("div",{className:"upgrade-building__data",children:[Object(b.jsx)("p",{children:"PROFIT"}),Object(b.jsxs)("span",{className:"upgrade-building__current",children:[U," "]}),le.workers&&le.workers[t]<5?Object(b.jsxs)("span",{className:"upgrade-building__added",children:["(+",C,")"]}):null]})]}),Object(b.jsxs)("div",{className:"upgrade-building__item",children:[Object(b.jsx)("div",{className:"upgrade-building__icon",children:Object(b.jsx)("img",{src:"static/media/gemupgrade2.png",alt:""})}),Object(b.jsxs)("div",{className:"upgrade-building__data",children:[Object(b.jsx)("p",{children:"Total profit"}),Object(b.jsxs)("span",{className:"upgrade-building__current",children:[Z," "]}),le.workers&&le.workers[t]<5?Object(b.jsxs)("span",{className:"upgrade-building__added",children:["(+",G,")"]}):null]})]})]}),Object(b.jsx)("div",{className:"upgrade-building__btn",children:Object(b.jsx)($,{enable:l&&le.workers&&le.workers[t]<5,callback:Oe,children:Object(b.jsxs)("div",{className:"inline",children:[Object(b.jsx)("img",{src:x}),H]})})})]})}))},ke=function(e){var t=e.children,n=Object(c.useState)(""),a=Object(u.a)(n,2),r=a[0],s=a[1],i=Object(c.useState)(null),l=Object(u.a)(i,2),p=l[0],A=l[1],m=Object(c.useState)(!1),f=Object(u.a)(m,2),g=f[0],v=f[1],h=Object(c.useState)(!1),k=Object(u.a)(h,2),x=k[0],y=k[1],w=Object(c.useState)(!1),S=Object(u.a)(w,2),N=S[0],B=S[1],M=Object(c.useState)(!1),U=Object(u.a)(M,2),q=U[0],T=U[1],V=Object(c.useState)(!1),C=Object(u.a)(V,2),E=C[0],I=C[1],K=Object(c.useState)(!1),Z=Object(u.a)(K,2),D=Z[0],J=Z[1],P=Object(c.useState)(!1),F=Object(u.a)(P,2),G=F[0],Q=F[1],R=Object(c.useState)(0),Y=Object(u.a)(R,2),z=Y[0],H=Y[1],L=Object(c.useCallback)((function(e){null!=p&&clearTimeout(p);var t=setTimeout((function(){return A(null)}),2e3);s(e),A(t)}),[]),X=Object(c.useCallback)((function(){v(!0)}),[]),W=Object(c.useCallback)((function(){v(!1)}),[]),_=Object(c.useCallback)((function(){B(!0)}),[]),$=Object(c.useCallback)((function(){y(!0)}),[]),ee=Object(c.useCallback)((function(){T(!0)}),[]),te=Object(c.useCallback)((function(){I(!0)}),[]),ne=Object(c.useCallback)((function(){J(!0)}),[]);return Object(b.jsxs)(o.Provider,{value:{showMessage:L,showLoading:X,hideLoading:W,showBuyTools:_,showReferral:$,showFinances:ee,showSellValley:te,showUpgradeMarket:ne,showUpgradeBuilding:function(e){H(e),Q(!0)}},children:[t,Object(b.jsxs)(O,{enabled:null!=p,children:[Object(b.jsx)("p",{children:r})," "]}),Object(b.jsx)(j,{enabled:g,children:Object(b.jsx)(d,{})}),Object(b.jsx)(ae,{active:N,setActive:B}),Object(b.jsx)(le,{active:x,setActive:y}),Object(b.jsx)(me,{active:q,setActive:T}),Object(b.jsx)(fe,{active:E,setActive:I}),Object(b.jsx)(ge,{active:D,setActive:J}),Object(b.jsx)(he,{buildingId:z,active:G,setActive:Q})]})},xe=n(137),ye=n(262),we=n.n(ye),Se={walletconnect:{package:n(278).a,options:{infuraId:"a8de5a5e6c22437fbedca386f50424f0",rpc:(r={},Object(B.a)(r,M,"https://bsc-dataseed1.binance.org/"),Object(B.a)(r,U,"https://bsc-testnet.public.blastapi.io/"),r)}}},Ne=function(){var e=Object(v.a)(Object(g.a)().mark((function e(t,n){var a;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=9;break}return e.next=3,n.chainId;case 3:if((a=e.sent)==="0x".concat(Number.parseInt(t).toString(16))||a==t){e.next=8;break}return e.next=7,T(t,n);case 7:return e.abrupt("return",e.sent);case 8:return e.abrupt("return",!0);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Be=n(73),Me=n.n(Be),Ue=function(e){try{var t=new Me.a(e);return t.eth.extend({methods:[{name:"chainId",call:"eth_chainId",outputFormatter:t.utils.hexToNumber}]}),t}catch(n){console.log(n)}},qe=n(277),Te=n(29),Ve=n(276),Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=null,n=[],a={reference:"RoyalValley",contractAddress:C,abi:N},r=[{reference:"totalInvestedCall",methodName:"totalInvested"},{reference:"totalWorkersCall",methodName:"totalWorkers"},{reference:"totalLordsCall",methodName:"totalTrainers"}];null!=e&&(n=[{reference:"workersCall",methodName:"getWorkers",methodParameters:[e]},{reference:"buildingsCall",methodName:"buildings",methodParameters:[e]}],t={reference:"MulticallV3",contractAddress:E,abi:Ve,calls:[{reference:"balanceOf",methodName:"getEthBalance",methodParameters:[e]},{reference:"timestamp",methodName:"getCurrentBlockTimestamp"}]});var c=[Object(p.a)(Object(p.a)({},a),{},{calls:[].concat(r,Object(Te.a)(n))})];return null!=t&&c.push(t),c},Ee=function(e){return Ze(e)?Ke(e.returnValues[0]):0},Ie=function(e,t){return{tools:Ze(t)?Ke(t.returnValues[0]):0,emerald:Ze(t)?Ke(t.returnValues[1]):0,emerald2:Ze(t)?Ke(t.returnValues[2]):0,yield:Ze(t)?Ke(t.returnValues[3]):0,timestamp:Ze(t)?Ke(t.returnValues[4]):0,hrs:Ze(t)?Ke(t.returnValues[5]):0,ref:Ze(t)?t.returnValues[6]:"",refs:Ze(t)?Ke(t.returnValues[7]):0,refEmerald:Ze(t)?Ke(t.returnValues[8]):0,refTools:Ze(t)?Ke(t.returnValues[9]):0,market:Ze(t)?t.returnValues[10]:0,workers:Ze(e)?e.returnValues:[0,0,0,0,0,0,0]}},Ke=function(e){return new te.a(e.hex).toFixed()},Ze=function(e){return e.success},De=function(e){var t=Object.assign({},e),n=Object(c.useContext)(y),a=n.connected,r=n.totalInvested,s=n.totalWorkers,i=n.totalTrainers,l=n.accountBuildings;return Object(b.jsx)("div",Object(p.a)(Object(p.a)({},t),{},{className:"infobar",children:Object(b.jsxs)("div",{className:"infobar__content",children:[Object(b.jsxs)("div",{className:"infobar__item info",children:[Object(b.jsx)("div",{className:"info__title",children:"PokéTowns"}),Object(b.jsx)("div",{className:"info__value",children:i})]}),Object(b.jsxs)("div",{className:"infobar__item info",children:[Object(b.jsx)("div",{className:"info__title",children:"Total Invested"}),Object(b.jsxs)("div",{className:"info__value",children:[parseFloat(r).toFixed(2)," BNB"]})]}),Object(b.jsxs)("div",{className:"infobar__item info",children:[Object(b.jsx)("div",{className:"info__title",children:"Workers"}),Object(b.jsx)("div",{className:"info__value",children:s})]}),Object(b.jsxs)("div",{className:"infobar__item info",children:[Object(b.jsx)("div",{className:"info__title",children:"Trainers"}),Object(b.jsx)("div",{className:"info__value",children:a?l.firstRef?l.firstRef:0:"---"})]})]})}))},Je=["image","tooptip","callback"],Pe=function(e){var t=e.image,n=e.tooptip,a=e.callback,r=Object(A.a)(e,Je);return Object(b.jsxs)("div",Object(p.a)(Object(p.a)({},r),{},{className:"navigation__item",children:[Object(b.jsx)("img",{onClick:function(){a()},src:t,alt:n}),Object(b.jsx)("div",{className:"navigation__tooltip",children:Object(b.jsx)("p",{className:"navigation__tooltip-wrapper",children:n})})]}))},Fe=n.p+"static/media/Guide.af29794e.png",Ge=n.p+"static/media/Referrals.f1768bad.png",Qe=n.p+"static/media/logout.e08471e3.png",Re=n.p+"static/media/finances.7b8f4ee4.png",Ye=function(e){var t=Object.assign({},e),n=Object(c.useContext)(y),a=n.connected,r=n.logout,s=Object(c.useContext)(o),i=s.showReferral,l=s.showFinances;return Object(b.jsxs)("nav",Object(p.a)(Object(p.a)({},t),{},{className:"navigation",children:[Object(b.jsx)(Pe,{callback:function(){window.open("https://telegra.ph/Pok%C3%A9Towns---ROI-BlockChain-Game-11-20","_blank","noopener,noreferrer")},image:Fe,tooptip:"Guide"}),Object(b.jsx)(Pe,{callback:function(){a&&i()},image:Ge,tooptip:"Trainers"}),Object(b.jsx)(Pe,{callback:function(){a&&l()},image:Re,tooptip:"PokéBank"}),Object(b.jsx)(Pe,{callback:function(){window.open("https://t.me/PokeTown_Chat","_blank","noopener,noreferrer")},image:"static/media/telegram.png",tooptip:"Telegram"}),Object(b.jsx)(Pe,{callback:function(){a&&r()},image:Qe,tooptip:"Logout"})]}))},ze=function(e){Object.assign({},e);var t=Object(c.useContext)(o),n=t.showMessage,a=t.showBuyTools,r=Object(c.useContext)(y),s=r.accountBuildings,i=r.connected,l=Object(c.useCallback)((function(){i?a():n("Please login")}),[i]);return Object(b.jsxs)("div",{className:"top-bar",children:[Object(b.jsxs)("div",{className:"top-bar__item top-bar__item-emerald",children:[Object(b.jsx)("img",{src:se}),Object(b.jsx)("p",{children:i?s.emerald?s.emerald:0:"---"})]}),Object(b.jsxs)("div",{className:"top-bar__item top-bar__item-tools",onClick:l,children:[Object(b.jsx)("img",{src:"static/media/hammer2.png"}),Object(b.jsx)("p",{children:i?s.tools?s.tools:0:"---"})]})]})},He=function(e){var t=Object.assign({},e);return Object(b.jsxs)("div",Object(p.a)(Object(p.a)({},t),{},{id:"hud",className:"hud",children:[Object(b.jsx)(ze,{}),Object(b.jsx)(De,{}),Object(b.jsx)(Ye,{})]}))},Le=n.p+"static/media/logo.a9770304.png",Xe=function(e){var t=Object.assign({},e),n=Object(c.useContext)(y),a=n.connected,r=n.login;return Object(b.jsxs)("div",Object(p.a)(Object(p.a)({},t),{},{className:"auth ".concat(a?"auth-connected":""),children:[Object(b.jsx)("img",{src:Le}),Object(b.jsx)($,{callback:r,enable:!0,children:"Login"})]}))},We=["buildingID","buildingsIMGs","buildingAnimation"],_e=function(e){var t=e.buildingID,n=e.buildingsIMGs,a=e.buildingAnimation,r=Object(A.a)(e,We),s=Object(c.useContext)(y),i=(s.web3Account,s.balanceOf,s.address,s.connected),l=s.accountBuildings,u=Object(c.useContext)(o).showUpgradeBuilding,d=function(){i&&l.workers&&(l.workers[t]>=5||u(t))},m=Object(c.useMemo)((function(){return l.workers?l.workers[t]:0}),[i,l]);return Object(b.jsx)("div",Object(p.a)(Object(p.a)({},r),{},{className:"building building-".concat(t," ").concat(l.workers&&l.workers[t]>=5?"building-max":""),children:Object(b.jsxs)("div",{className:"building__wrapper",children:[Object(b.jsxs)("div",{className:"building__information",children:[Object(b.jsx)("div",{className:"building__upgrade",onClick:d}),Object(b.jsxs)("div",{className:"building__level",children:["Level ",m]})]}),Object(b.jsxs)("div",{className:"building__content",children:[Object(b.jsx)("div",{className:"building__static",children:n.map((function(e,n){if(!i&&0==n||!l.workers&&0==n||l.workers&&l.workers[t]==n)return Object(b.jsx)("div",{style:{display:"block"},onClick:d,className:"building__img building__img-".concat(n," ").concat(!i||!l.workers&&0==n?"block":l.workers&&l.workers[t]==n?"building__img-active":""),children:Object(b.jsx)("img",{src:e})},"building__img-".concat(n))}))}),Object(b.jsx)("div",{className:"building__title",children:J[t].name}),Object(b.jsx)("div",{className:"building__animation ".concat(m<=0?"building__animation-off":""),children:Object(b.jsx)("img",{src:a})})]})]})}))},$e=n.p+"static/media/market.dc08e939.png",et=function(e){var t=Object.assign({},e),n=Object(c.useState)(!0),a=Object(u.a)(n,2),r=a[0],s=a[1],i=Object(c.useContext)(y),l=i.web3Account,d=i.balanceOf,A=i.address,m=i.connected,j=i.accountBuildings,f=i.currentBlockTimeStamp,O=Object(c.useContext)(o),h=O.showMessage,k=O.showLoading,x=O.hideLoading,w=O.showUpgradeMarket,S=L(l,A,m),N=S.esimateGas,B=S.callMethod,M=S.gasPrice,U=Object(c.useState)(0),q=Object(u.a)(U,2),T=q[0],V=q[1],C=Object(c.useState)(0),E=Object(u.a)(C,2),I=E[0],K=E[1];Object(c.useEffect)((function(){if(m)if(0!=f&&0!=j.yield){var e=new Date(1e3*f),t=new Date(1e3*j.timestamp),n=Math.floor(e.getTime()/36e5)-Math.floor(t.getTime()/36e5),a=D[j.market],r=Math.min(n+parseFloat(j.hrs),a.time);K(r),V(Math.floor(100*r/a.time))}else V(0)}),[f]);var Z=Object(c.useCallback)((function(){j.market>=3||!m||w()}),[m,j.market]),J=function(){var e=Object(v.a)(Object(g.a)().mark((function e(){var t,n;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:return t=e.sent,e.next=5,N(H,{});case 5:return n=e.sent,e.abrupt("return",{price:t,esimated:n});case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(v.a)(Object(g.a)().mark((function e(){var t,n,a,r,c,i;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m){e.next=2;break}return e.abrupt("return");case 2:if(!(I<=0||0==j.yield)){e.next=5;break}return h("No PokéCoins available"),e.abrupt("return");case 5:return s(!1),e.prev=6,e.next=9,J();case 9:if(t=e.sent,n=t.price,a=t.esimated,r=new te.a(n),c=new te.a(a),i=l.utils.fromWei(r.multipliedBy(c).toFixed(),"ether"),!(parseFloat(d)<parseFloat(i))){e.next=19;break}return h("Not enough BNB for transaction complete."),s(!0),e.abrupt("return");case 19:B(H,{},(function(e){x(),h("".concat(e)),s(!0)}),(function(){k(),s(!1)}),(function(e){x(),h("".concat(e)),s(!0)}),(function(){x(),h("Success"),s(!0)})),e.next=27;break;case 22:e.prev=22,e.t0=e.catch(6),console.log(e.t0),h(e.t0.message?e.t0.message:"Failure"),s(!0);case 27:case"end":return e.stop()}}),e,null,[[6,22]])})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",Object(p.a)(Object(p.a)({},t),{},{className:"market ".concat(j.market>=3?"market-max":""),children:[Object(b.jsxs)("div",{className:"market__body market-desktop",children:[Object(b.jsx)("div",{className:"market__static",onClick:Z,children:Object(b.jsx)("img",{src:$e,alt:""})}),Object(b.jsx)("div",{className:"market__btn",children:Object(b.jsx)(ce,{enable:r&&m,callback:function(e){e.stopPropagation(),P()},children:"Claim"})}),Object(b.jsx)("div",{className:"market__progress",onClick:Z,children:Object(b.jsxs)("div",{className:"progress__inner",children:[Object(b.jsx)("div",{style:{width:"calc(".concat(T,"%)")},className:"progress__body"}),Object(b.jsxs)("div",{className:"progress__value",children:[T,"%"]})]})}),Object(b.jsx)("div",{className:"market__upgrade",onClick:Z})]}),Object(b.jsxs)("div",{className:"market__body market-mobile",children:[Object(b.jsxs)("div",{className:"market__static",onClick:Z,children:[Object(b.jsx)("img",{src:$e,alt:""}),Object(b.jsx)("p",{children:"Home"})]}),Object(b.jsxs)("div",{className:"market__active-zone",children:[Object(b.jsxs)("div",{className:"market__half",children:[Object(b.jsx)("div",{className:"market__upgrade",onClick:Z}),Object(b.jsx)("div",{className:"market__btn",children:Object(b.jsx)(ce,{enable:r&&m,callback:function(e){e.stopPropagation(),P()},children:"Claim"})})]}),Object(b.jsx)("div",{className:"market__progress",children:Object(b.jsxs)("div",{className:"progress__inner",children:[Object(b.jsx)("div",{style:{width:"calc(".concat(T,"%)")},className:"progress__body"}),Object(b.jsxs)("div",{className:"progress__value",children:[T,"%"]})]})})]})]})]}))},tt=n.p+"static/media/mine_0.966dd975.png",nt=n.p+"static/media/mine_1.476e9c50.png",at=n.p+"static/media/mine_2.fe33ccf4.png",rt=n.p+"static/media/mine_3.fddd6888.png",ct=n.p+"static/media/mine_4.a183c54a.png",st=n.p+"static/media/mine_5.c2ab562c.png",it=n.p+"",lt=n.p+"static/media/butcher_0.7acb8567.png",ut=n.p+"static/media/butcher1.35f979d9.png",ot=n.p+"static/media/butcher2.2092bd35.png",pt=n.p+"static/media/butcher3.bcadd8ae.png",bt=n.p+"static/media/butcher4.fe47e0a2.png",dt=n.p+"static/media/butcher5.eeb74447.png",At=n.p+"",mt=n.p+"static/media/sawmill_0.f58b5d5b.png",jt=n.p+"static/media/sawmill_1.4ff7be4c.png",ft=n.p+"static/media/sawmill_2.0efbf610.png",Ot=n.p+"static/media/sawmill_3.aa5991bc.png",gt=n.p+"static/media/sawmill_4.b0df0e98.png",vt=n.p+"static/media/sawmill_5.e8fb82ba.png",ht=n.p+"",kt=n.p+"static/media/shack_0.efbf23c1.png",xt=n.p+"static/media/shack_1.3ffd0360.png",yt=n.p+"static/media/shack_2.c574afe9.png",wt=n.p+"static/media/shack_3.6216192b.png",St=n.p+"static/media/shack_4.d558aecd.png",Nt=n.p+"static/media/shack_5.47448571.png",Bt=n.p+"",Mt=n.p+"static/media/farm_0.4b5ee2a4.png",Ut=n.p+"static/media/farm_1.6170461a.png",qt=n.p+"static/media/farm_2.36109fbd.png",Tt=n.p+"static/media/farm_3.9c9820d5.png",Vt=n.p+"static/media/farm_4.a2837dee.png",Ct=n.p+"static/media/farm_5.23286544.png",Et=n.p+"",It=n.p+"static/media/forge_0.3fd7dbdb.png",Kt=n.p+"static/media/forge_1.bd2baeea.png",Zt=n.p+"static/media/forge_2.13ece4ab.png",Dt=n.p+"static/media/forge_3.09ef55d9.png",Jt=n.p+"static/media/forge_4.f944f40d.png",Pt=n.p+"static/media/forge_5.d81728b9.png",Ft=n.p+"",Gt=n.p+"static/media/tavern_0.85454cd7.png",Qt=n.p+"static/media/tavern_1.1fecc198.png",Rt=n.p+"static/media/tavern_2.8845eaec.png",Yt=n.p+"static/media/tavern_3.c70b11b2.png",zt=n.p+"static/media/tavern_4.ead7dc7c.png",Ht=n.p+"static/media/tavern_5.296e0c0a.png",Lt=n.p+"",Xt=function(){return Object(b.jsx)("div",{className:"board",id:"board",children:Object(b.jsx)("div",{className:"board__layer",children:Object(b.jsxs)("div",{className:"board__ref",children:[Object(b.jsx)(et,{}),Object(b.jsx)(_e,{buildingID:0,buildingAnimation:Bt,buildingsIMGs:[kt,xt,yt,wt,St,Nt]}),Object(b.jsx)(_e,{buildingID:1,buildingAnimation:ht,buildingsIMGs:[mt,jt,ft,Ot,gt,vt]}),Object(b.jsx)(_e,{buildingID:2,buildingAnimation:Et,buildingsIMGs:[Mt,Ut,qt,Tt,Vt,Ct]}),Object(b.jsx)(_e,{buildingID:3,buildingAnimation:it,buildingsIMGs:[tt,nt,at,rt,ct,st]}),Object(b.jsx)(_e,{buildingID:4,buildingAnimation:At,buildingsIMGs:[lt,ut,ot,pt,bt,dt]}),Object(b.jsx)(_e,{buildingID:5,buildingAnimation:Ft,buildingsIMGs:[It,Kt,Zt,Dt,Jt,Pt]}),Object(b.jsx)(_e,{buildingID:6,buildingAnimation:Lt,buildingsIMGs:[Gt,Qt,Rt,Yt,zt,Ht]})]})})})},Wt=function(){var e=Object(c.useContext)(y),t=e.connected,n=(e.login,Object(xe.b)()),a=Object(u.a)(n,2),r=(a[0],a[1]),s=W(),i=(s.cookies,s.setupCookies);return Object(c.useEffect)((function(){var e=new URLSearchParams(window.location.search);null!=e&&(e.get("p")&&Me.a.utils.isAddress(e.get("p"))&&i(e.get("p")),r(""))}),[]),Object(b.jsxs)("div",{id:"main",className:"".concat(t?"":"main-unconnected"),children:[Object(b.jsx)(Xe,{}),Object(b.jsx)(He,{}),Object(b.jsx)(Xt,{})]})},_t=function(){var e=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),s=Object(u.a)(r,2),i=s[0],l=s[1],o=Object(c.useState)(null),p=Object(u.a)(o,2),b=p[0],d=p[1],A=Object(c.useState)(null),m=Object(u.a)(A,2),j=m[0],f=m[1],O=Object(c.useState)([I]),h=Object(u.a)(O,2),k=h[0],x=h[1],y=Object(c.useState)(null),w=Object(u.a)(y,2),S=w[0],N=w[1],B=Object(c.useCallback)((function(){d(null),l(""),a(!1),f(null),x([I])}));Object(c.useEffect)((function(){N(new we.a({network:"mainnet",cacheProvider:!1,theme:"light",providerOptions:Se,shouldCacheProvider:!1}))}),[]),Object(c.useEffect)((function(){try{if(null==j||!j.on)return;j.on("disconnect",(function(e){if(e)return console.log("disconnect:",e),void(1e3===e&&U());U()})),j.on("accountsChanged",function(){var e=Object(v.a)(Object(g.a)().mark((function e(t){return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l(t[0]);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),j.on("chainChanged",function(){var e=Object(v.a)(Object(g.a)().mark((function e(t){return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t!=="0x".concat(Number.parseInt(I).toString(16))&&U();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(e){console.log("chainChanged:",e)}}),[j]);var M=function(){var e=Object(v.a)(Object(g.a)().mark((function e(){var t,n,r,c;return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.sessionStorage.getItem("_was_connected")||window.sessionStorage.setItem("_was_connected","true"),e.prev=1,e.next=4,S.clearCachedProvider();case 4:return e.next=6,S.connect();case 6:return t=e.sent,n=Ue(t),e.next=10,n.eth.getAccounts();case 10:return r=e.sent,c=r[0],e.prev=12,e.next=15,Ne(I,n.currentProvider);case 15:if(e.sent){e.next=18;break}return e.abrupt("return");case 18:window.web3=n,d(n),a(!0),l(c),x([I]),f(t),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(12),alert(e.t0),U();case 30:e.next=35;break;case 32:e.prev=32,e.t1=e.catch(1),console.log("On connect error:",e.t1);case 35:case"end":return e.stop()}}),e,null,[[1,32],[12,26]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(v.a)(Object(g.a)().mark((function e(){return Object(g.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.sessionStorage.getItem("_was_connected")&&window.sessionStorage.removeItem("_was_connected"),e.prev=1,b&&b.currentProvider&&b.currentProvider.close&&b.currentProvider.close(),e.next=5,S.resetState();case 5:return e.next=7,S.clearCachedProvider();case 7:window.localStorage.clear(),B(),document.location.reload(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return{web3Modal:S,web3Account:b,chainId:k,connected:n,address:i,login:M,logout:U}}(),t=e.web3Modal,n=e.web3Account,a=e.chainId,r=e.connected,s=e.address,i=e.login,l=e.logout,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(c.useState)(0),n=Object(u.a)(t,2),a=n[0],r=n[1],s=Object(c.useState)(0),i=Object(u.a)(s,2),l=i[0],o=i[1],p=Object(c.useState)(0),b=Object(u.a)(p,2),d=b[0],A=b[1],m=Object(c.useState)({}),j=Object(u.a)(m,2),f=j[0],O=j[1],h=Object(c.useState)(0),k=Object(u.a)(h,2),x=k[0],y=k[1],w=Object(c.useState)(0),S=Object(u.a)(w,2),N=S[0],B=S[1],M=new Me.a(K),U=new qe.a({web3Instance:M,ryAggregate:!0});return Object(c.useEffect)((function(){function t(){return n.apply(this,arguments)}function n(){return(n=Object(v.a)(Object(g.a)().mark((function t(){var n,a,c,s;return Object(g.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Ce(e),t.prev=1,t.next=4,U.call(n);case 4:if(a=t.sent,c=a.results.RoyalValley.callsReturnContext,r(Me.a.utils.fromWei(Ee(c[0]),"ether")),o(Ee(c[1])),A(Ee(c[2])),!(null!=e&&c.length>4)){t.next=18;break}if(s=a.results.MulticallV3.callsReturnContext,!(N>Ee(s[1]))){t.next=13;break}return t.abrupt("return");case 13:O(Ie(c[3],c[4])),y(Me.a.utils.fromWei(Ee(s[0]))),B(Ee(s[1])),t.next=19;break;case 18:O({});case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(1),console.log(t.t0);case 24:case"end":return t.stop()}}),t,null,[[1,21]])})))).apply(this,arguments)}t();var a=setInterval((function(){t()}),3e3);return function(){return clearInterval(a)}}),[e]),{totalInvested:a,totalWorkers:l,totalTrainers:d,accountBuildings:f,balanceOf:x,currentBlockTimeStamp:N}}(s),p=o.totalInvested,d=o.totalWorkers,A=o.totalTrainers,m=o.accountBuildings,j=o.balanceOf,f=o.currentBlockTimeStamp;return Object(b.jsx)(xe.a,{children:Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(y.Provider,{value:{web3Modal:t,web3Account:n,chainId:a,connected:r,address:s,login:i,logout:l,totalInvested:p,totalWorkers:d,totalTrainers:A,accountBuildings:m,balanceOf:j,currentBlockTimeStamp:f},children:Object(b.jsx)(ke,{children:Object(b.jsx)(Wt,{})})})})})};n(508);l.a.createRoot(document.getElementById("root")).render(Object(b.jsx)(_t,{}))}},[[509,1,2]]]);